<%- include('header'); -%>

<div class="box" id="heading">
  <!-- Marker for a variable -->
  <h1><%= pageTitle %></h1>

</div>


<div class="box">

  <!-- Genarating rows dynamicaly using JS and EJS -->
  <% items.forEach(item=>{ %>

  <form action="/delete" method="post">
    <div class="item">
      <input type="checkbox" name="checkbox" value="<%=item._id%>" onchange="this.form.submit()">
      <!-- its new way due to CSS! -->
      <p><%= item.name %></p>
    </div>
    <input type="hidden" name="listName" value="<%=pageTitle%>">
  </form>
  <% }) %>

  <!--item class added to style it similary to other items on the page   -->
  <form class="item " action="/" method="post">
    <input type="text" name="item" placeholder="New Item" autocomplete="off">
    <!-- using page's title to determine the action page of the input data -->
    <button type="submit" name="submit" value='submited'>+</button>
    <input type="hidden" name="listName" value="<%=pageTitle%>">
  </form>

</div>

<%- include('footer'); -%>
